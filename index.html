<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>A-Frame AR mit Renderer-Logik</title>
    <meta name="description" content="AR-Beispiel mit kontinuierlicher Renderer-Logik">
    <!-- A-Frame 1.6.0 (oder kompatibel) -->

    <!-- Drei.js (falls benötigt von AbsoluteDeviceOrientationControls) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r121/three.min.js"></script>
    <!-- AbsoluteDeviceOrientationControls (stelle sicher, dass diese Datei vorhanden ist) -->

    <style>
      body { margin: 0; overflow: hidden; }
      #overlay {
        position: fixed;
        top: 0; left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.8);
        color: white;
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 10;
      }
      #compassContainer, #distanceDisplay {
        position: fixed;
        z-index: 11;
        color: white;
        text-align: center;
      }
      #compassContainer {
        top: 10px;
        left: 50%;
        transform: translateX(-50%);
      }
      #distanceDisplay {
        bottom: 10px;
        left: 50%;
        transform: translateX(-50%);
      }
    </style>
    <script type="module" crossorigin src="./assets/index-DgZ42OUQ.js"></script>
  </head>
  <body>
    <!-- Overlay zum Starten der AR-Anwendung -->
    <div id="overlay">
      <button id="btnStart" style="font-size: 20px; padding: 10px 20px;">Start AR</button>
    </div>

    <!-- A-Frame Szene mit Renderer-Konfiguration -->
    <a-scene 
      renderer="antialias: true; colorManagement: true; sortObjects: true; physicallyCorrectLights: true; maxCanvasWidth: 1920; maxCanvasHeight: 1920;"
      embedded 
      arjs="sourceType: webcam; debugUIEnabled: false;">
      
      <!-- GPS-Kamera mit dem neuen updater -->
      <a-entity id="cameraEntity" gps-new-camera device-orientation-updater camera="far: 100"></a-entity>
      
      <!-- Weitere Szene-Elemente werden dynamisch eingefügt -->
    </a-scene>

    <!-- Kompassanzeige -->
    <div id="compassContainer">
      <div id="compassArrow" style="font-size: 48px;">↑</div>
      <div id="compassText" style="font-size: 24px;">0°</div>
    </div>

    <!-- Entfernung zum Ziel -->
    <div id="distanceDisplay" style="font-size: 24px;"></div>

    <!-- Haupt-JS-Datei -->

  </body>
</html>
