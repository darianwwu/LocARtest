(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const e of o)if(e.type==="childList")for(const n of e.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&i(n)}).observe(document,{childList:!0,subtree:!0});function c(o){const e={};return o.integrity&&(e.integrity=o.integrity),o.referrerPolicy&&(e.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?e.credentials="include":o.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function i(o){if(o.ep)return;o.ep=!0;const e=c(o);fetch(o.href,e)}})();window.onload=()=>{let r=!1;const t={latitude:51.935502,longitude:7.652093},c=[3,6,9,12,15],i=document.querySelector("a-scene");document.querySelector("[gps-new-camera]").addEventListener("gps-camera-update-position",e=>{const n=e.detail.position.latitude,l=e.detail.position.longitude;if(M("GPS-Position aktualisiert"),document.querySelectorAll("a-circle").forEach(s=>s.parentNode.removeChild(s)),c.forEach(s=>{const a=document.createElement("a-circle");a.setAttribute("radius","0.5"),a.setAttribute("color","#00008B"),a.setAttribute("opacity","0.7");const d=y(n,l,t.latitude,t.longitude,s);a.setAttribute("gps-entity-place",`latitude: ${d.latitude}; longitude: ${d.longitude};`),i.appendChild(a)}),!r){const s=document.createElement("a-image");s.setAttribute("src","./images/map-marker.png"),s.setAttribute("width","4"),s.setAttribute("height","4"),s.setAttribute("look-at","[gps-new-camera]"),s.setAttribute("gps-entity-place",`latitude: ${t.latitude}; longitude: ${t.longitude};`),i.appendChild(s),r=!0}})};function y(r,t,c,i,o){const e=r*Math.PI/180,n=t*Math.PI/180,l=c*Math.PI/180,s=i*Math.PI/180-n,a=Math.sin(s)*Math.cos(l),d=Math.cos(e)*Math.sin(l)-Math.sin(e)*Math.cos(l)*Math.cos(s),p=Math.atan2(a,d),u=6371e3,h=o,m=Math.asin(Math.sin(e)*Math.cos(h/u)+Math.cos(e)*Math.sin(h/u)*Math.cos(p)),g=n+Math.atan2(Math.sin(p)*Math.sin(h/u)*Math.cos(e),Math.cos(h/u)-Math.sin(e)*Math.sin(m));return{latitude:m*180/Math.PI,longitude:g*180/Math.PI}}function M(r){const t=document.createElement("div");t.style.position="fixed",t.style.top="20px",t.style.left="50%",t.style.transform="translateX(-50%)",t.style.padding="10px 20px",t.style.backgroundColor="rgba(0, 0, 0, 0.7)",t.style.color="white",t.style.fontSize="14px",t.style.borderRadius="5px",t.style.zIndex="9999",t.innerText=r,document.body.appendChild(t),setTimeout(()=>{t.remove()},1e3)}
