(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const e of t)if(e.type==="childList")for(const s of e.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function o(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?e.credentials="include":t.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function a(t){if(t.ep)return;t.ep=!0;const e=o(t);fetch(t.href,e)}})();window.onload=()=>{let u=!1,r=!1;const o={latitude:51.935502,longitude:7.652093},a=[3,6,9,12,15],t=document.querySelector("a-scene");document.querySelector("[gps-new-camera]").addEventListener("gps-camera-update-position",s=>{const c=s.detail.position.latitude,h=s.detail.position.longitude;if(console.log("User position:",c,h),console.log("Target position:",o.latitude,o.longitude),!r){const n=document.createElement("a-image");n.setAttribute("src","./images/map-marker.png"),n.setAttribute("width","4"),n.setAttribute("height","4"),n.setAttribute("look-at","[gps-new-camera]"),n.setAttribute("gps-new-entity-place",{latitude:o.latitude,longitude:o.longitude}),t.appendChild(n),r=!0}u?document.querySelectorAll("a-circle").forEach((i,d)=>{const p=a[d],l=m(c,h,o.latitude,o.longitude,p);i.setAttribute("gps-new-entity-place",{latitude:l.latitude,longitude:l.longitude})}):(a.forEach(n=>{const i=document.createElement("a-circle");i.setAttribute("radius","0.5"),i.setAttribute("color","#00008B"),i.setAttribute("opacity","0.7");const d=m(c,h,o.latitude,o.longitude,n);i.setAttribute("gps-new-entity-place",{latitude:d.latitude,longitude:d.longitude}),t.appendChild(i)}),u=!0)})};function m(u,r,o,a,t){const e=u*Math.PI/180,s=r*Math.PI/180,c=o*Math.PI/180,n=a*Math.PI/180-s,i=Math.sin(n)*Math.cos(c),d=Math.cos(e)*Math.sin(c)-Math.sin(e)*Math.cos(c)*Math.cos(n),p=Math.atan2(i,d),l=6371e3,g=t,f=Math.asin(Math.sin(e)*Math.cos(g/l)+Math.cos(e)*Math.sin(g/l)*Math.cos(p)),M=s+Math.atan2(Math.sin(p)*Math.sin(g/l)*Math.cos(e),Math.cos(g/l)-Math.sin(e)*Math.sin(f));return{latitude:f*180/Math.PI,longitude:M*180/Math.PI}}
