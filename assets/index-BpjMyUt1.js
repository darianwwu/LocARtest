(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const e of t)if(e.type==="childList")for(const r of e.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function s(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?e.credentials="include":t.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function n(t){if(t.ep)return;t.ep=!0;const e=s(t);fetch(t.href,e)}})();window.onload=()=>{let i=!1;const o={latitude:51.9353,longitude:7.649964};document.querySelector("[gps-new-camera]").addEventListener("gps-camera-update-position",n=>{if(i){const t=document.querySelector("a-entity[gltf-model]");if(t){const e=c(n.detail.position.latitude,n.detail.position.longitude,o.latitude,o.longitude,5e-4);t.setAttribute("gps-new-entity-place",{latitude:e.latitude,longitude:e.longitude})}else console.error("Entity wurde nicht gefunden!")}else{const t=c(n.detail.position.latitude,n.detail.position.longitude,o.latitude,o.longitude,5e-4),e=document.createElement("a-entity");e.setAttribute("gltf-model","./car-arrow-glb/source/carArrow.glb"),e.setAttribute("scale","5 5 5"),e.setAttribute("gps-new-entity-place",{latitude:t.latitude,longitude:t.longitude}),document.querySelector("a-scene").appendChild(e),i=!0}})};function c(i,o,s,n,t){const r=i*(Math.PI/180),a=o*(Math.PI/180),u=s*(Math.PI/180),g=n*(Math.PI/180)-a,f=u-r,d=Math.atan2(f,g),l=t/6371,p=r+l*Math.cos(d),m=a+l*Math.sin(d)/Math.cos(r),h=p*(180/Math.PI),y=m*(180/Math.PI);return{latitude:h,longitude:y}}
