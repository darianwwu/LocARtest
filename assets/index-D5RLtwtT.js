(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const e of t)if(e.type==="childList")for(const i of e.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?e.credentials="include":t.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function n(t){if(t.ep)return;t.ep=!0;const e=r(t);fetch(t.href,e)}})();window.onload=()=>{let s=!1;const o={latitude:51.935172,longitude:7.649701};document.querySelector("[gps-new-camera]").addEventListener("gps-camera-update-position",n=>{if(s){const t=document.querySelector("a-entity[gltf-model]");if(t){const e=f(n.detail.position.latitude,n.detail.position.longitude,o.latitude,o.longitude,5);t.setAttribute("gps-new-entity-place",{latitude:e.latitude,longitude:e.longitude})}else console.error("Das Entity wurde nicht gefunden!")}else{const t=document.createElement("a-entity");t.setAttribute("gltf-model","./car-arrow-glb/source/carArrow.glb"),t.setAttribute("scale","4 4 4");const e=f(n.detail.position.latitude,n.detail.position.longitude,o.latitude,o.longitude,5);t.setAttribute("gps-new-entity-place",{latitude:e.latitude,longitude:e.longitude}),document.querySelector("a-scene").appendChild(t),s=!0}})};function f(s,o,r,n,t){const e=s*Math.PI/180,i=o*Math.PI/180,l=r*Math.PI/180,d=n*Math.PI/180-i,g=Math.sin(d)*Math.cos(l),p=Math.cos(e)*Math.sin(l)-Math.sin(e)*Math.cos(l)*Math.cos(d),u=Math.atan2(g,p),a=6371e3,c=t,h=Math.asin(Math.sin(e)*Math.cos(c/a)+Math.cos(e)*Math.sin(c/a)*Math.cos(u)),M=i+Math.atan2(Math.sin(u)*Math.sin(c/a)*Math.cos(e),Math.cos(c/a)-Math.sin(e)*Math.sin(h));return{latitude:h*180/Math.PI,longitude:M*180/Math.PI}}
