(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const t of o.addedNodes)t.tagName==="LINK"&&t.rel==="modulepreload"&&s(t)}).observe(document,{childList:!0,subtree:!0});function l(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(e){if(e.ep)return;e.ep=!0;const o=l(e);fetch(e.href,o)}})();document.addEventListener("DOMContentLoaded",()=>{console.log("DOM fully loaded and parsed");const c=document.getElementById("arrow");c?console.log("Arrow model found in DOM"):console.error("Arrow model not found in DOM");const r={latitude:51.93536,longitude:7.652375};"geolocation"in navigator?(console.log("Geolocation is supported"),navigator.geolocation.watchPosition(e=>{const{latitude:o,longitude:t}=e.coords;console.log(`User position updated: lat=${o}, lon=${t}`),l(o,t)},e=>console.error("Geolocation error:",e),{enableHighAccuracy:!0,maximumAge:0,timeout:5e3})):console.error("Geolocation not supported by this browser.");function l(e,o){const t=s(e,o,r.latitude,r.longitude);console.log(`Calculated bearing: ${t} degrees`),c.setAttribute("rotation",`0 ${t} 0`)}function s(e,o,t,u){const n=a=>a*Math.PI/180,f=a=>a*180/Math.PI,d=n(u-o),g=Math.sin(d)*Math.cos(n(t)),p=Math.cos(n(e))*Math.sin(n(t))-Math.sin(n(e))*Math.cos(n(t))*Math.cos(d);let i=f(Math.atan2(g,p));return i=(i+360)%360,console.log(`Bearing calculation result: ${i}`),i}});
