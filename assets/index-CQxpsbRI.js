(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const e of t)if(e.type==="childList")for(const i of e.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function s(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?e.credentials="include":t.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function n(t){if(t.ep)return;t.ep=!0;const e=s(t);fetch(t.href,e)}})();window.onload=()=>{let r=!1;const o={latitude:51.935172,longitude:7.649701};document.querySelector("[gps-new-camera]").addEventListener("gps-camera-update-position",n=>{if(r){const t=document.querySelector("a-entity[gltf-model]");if(t){const e=h(n.detail.position.latitude,n.detail.position.longitude,o.latitude,o.longitude,.001);t.setAttribute("gps-new-entity-place",{latitude:e.latitude,longitude:e.longitude})}else console.error("Das Entity wurde nicht gefunden!")}else{const t=document.createElement("a-entity");t.setAttribute("gltf-model","./car-arrow-glb/source/carArrow.glb"),t.setAttribute("scale","4 4 4"),t.setAttribute("gps-new-entity-place",{latitude:n.detail.position.latitude+5e-4,longitude:n.detail.position.longitude}),t.setAttribute("gps-new-entity-rotation",{latitude:o.latitude,longitude:o.longitude}),t.setAttribute,document.querySelector("a-scene").appendChild(t),r=!0}})};function h(r,o,s,n,t){const i=r*(Math.PI/180),a=o*(Math.PI/180),c=s*(Math.PI/180),u=n*(Math.PI/180)-a,g=c-i,d=Math.atan2(g,u),l=t/6371,f=i+l*Math.cos(d),p=a+l*Math.sin(d)/Math.cos(i),m=f*(180/Math.PI),y=p*(180/Math.PI);return{latitude:m,longitude:y}}
