(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&c(i)}).observe(document,{childList:!0,subtree:!0});function n(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function c(e){if(e.ep)return;e.ep=!0;const o=n(e);fetch(e.href,o)}})();window.onload=()=>{let a=!1,t=!1;const n={latitude:51.935502,longitude:7.652093},c=[3,6,9,12,15],e=document.querySelector("a-scene");document.querySelector("[gps-new-camera]").addEventListener("gps-camera-update-position",i=>{const d=i.detail.position.latitude,f=i.detail.position.longitude;if(M("GPS-Position aktualisiert"),!t){const s=document.createElement("a-image");s.setAttribute("src","./images/map-marker.png"),s.setAttribute("width","4"),s.setAttribute("height","4"),s.setAttribute("look-at","[gps-new-camera]"),s.setAttribute("gps-new-entity-place",{latitude:n.latitude,longitude:n.longitude}),e.appendChild(s),t=!0}a?document.querySelectorAll("a-circle").forEach((r,u)=>{const p=c[u],l=g(d,f,n.latitude,n.longitude,p);r.setAttribute("gps-new-entity-place",{latitude:l.latitude,longitude:l.longitude})}):(c.forEach(s=>{const r=document.createElement("a-circle");r.setAttribute("radius","0.5"),r.setAttribute("color","#00008B"),r.setAttribute("opacity","0.7");const u=g(d,f,n.latitude,n.longitude,s);r.setAttribute("gps-new-entity-place",{latitude:u.latitude,longitude:u.longitude}),e.appendChild(r)}),a=!0)})};function M(a){const t=document.createElement("div");t.style.position="fixed",t.style.top="20px",t.style.left="50%",t.style.transform="translateX(-50%)",t.style.padding="10px 20px",t.style.backgroundColor="rgba(0, 0, 0, 0.7)",t.style.color="white",t.style.fontSize="14px",t.style.borderRadius="5px",t.style.zIndex="9999",t.innerText=a,document.body.appendChild(t),setTimeout(()=>{t.remove()},500)}function g(a,t,n,c,e){const o=a*Math.PI/180,i=t*Math.PI/180,d=n*Math.PI/180,s=c*Math.PI/180-i,r=Math.sin(s)*Math.cos(d),u=Math.cos(o)*Math.sin(d)-Math.sin(o)*Math.cos(d)*Math.cos(s),p=Math.atan2(r,u),l=6371e3,h=e,m=Math.asin(Math.sin(o)*Math.cos(h/l)+Math.cos(o)*Math.sin(h/l)*Math.cos(p)),y=i+Math.atan2(Math.sin(p)*Math.sin(h/l)*Math.cos(o),Math.cos(h/l)-Math.sin(o)*Math.sin(m));return{latitude:m*180/Math.PI,longitude:y*180/Math.PI}}
